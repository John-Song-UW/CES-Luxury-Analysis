---
title: "Changes in Luxury Apparels Consumption Patterns During Economic Downturn (Covid Pandemic)"
author: "John Song"
date: \today
output: 
  pdf_document:
    latex_engine: xelatex
editor_options: 
  markdown: 
    wrap: sentence
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE, error = FALSE)

library(emmeans)
library(questionr)
library(broom)
library(stargazer)
library(tidyverse)
library(readr)
library(dplyr)
library(purrr)
library(lubridate)
library(fixest)
library(scales)
library(kableExtra)
library(patchwork)

# Do not set working directory; assume user runs from project root
setwd("~/Documents/CS&SS 322/Final project")

rm(list = ls())

nine <- c(191:194)
twnty <- c(201:204)
twntyone_1 <- c(211)
twntyone_2 <- c(212:214)
twntytwo <- c(221:224)
twntythree <- c(231:234)
intv_quarters <- c(nine, twnty, twntyone_1)
diary_quarters <- c(twntyone_2, twntytwo, twntythree)


# Conditioning For MTBI & FMLI
##### Necessary UCC codes ####
lux_ucc <- c(
  "360110",  # Men's suits
  "360120",  # Men's sportcoats, tailored jackets
  "360210",  # Men's coats and jackets
  "360330",  # Men's accessories
  "360420",  # Men's shirts, sweaters, and vests
  "360513",  # Men's pants and shorts
  "380110",  # Women's coats and jackets
  "380210",  # Women's dresses
  "380311",  # Women's sportcoats, tailored jackets
  "380315",  # Women's sweaters, shirts, tops, vests
  "380320",  # Women's skirts
  "380333",  # Women's pants and shorts
  "380510",  # Women's suits
  "380901",  # Women's accessories
  "400110",  # Men's footwear
  "400310"   # Women's footwear
)

gen_intv <- c(
  "210110", # Rent of dwelling
  "260111", # Electricity rntr
  "260112", # Electricity ownd
  "270102", # Cellular phone service
  "500110", # Vehicle insurance
  "350110"  # Renter's insurance
  )


#### Read the files (interview) ####
merged_list <- list()

  for (intv_quarter in intv_quarters) {
    family_file <- paste0("fmli", intv_quarter, ".csv")
    monthly_expenditure_file <- paste0("mtbi", intv_quarter, ".csv")
    
    # Read File
    family_data_whole <- read_csv(family_file, show_col_types = FALSE)
    monthly_data_whole <- read_csv(monthly_expenditure_file, show_col_types = FALSE)
    
    # Extract necessary columns from fmli.csv
    ## Income pre tax / Unit ID / Income class / Weigth variable (population represeting level) / QINTRVMO for MO_SCOPE calculation
   family_data <- family_data_whole %>%
     select(NEWID, INC_RANK, FINLWT21, QINTRVMO) %>%
     mutate(QINTRVMO = as.integer(QINTRVMO))
     
    
    # Extract necessary columns from mtbi.csv
    ## UNIT ID / Product type / Price / Month / Year
    monthly_data <- monthly_data_whole %>%
      select(NEWID, UCC, COST, REF_MO, REF_YR)
  
   # Merge family & monthly
   merged_data <- 
      merge(monthly_data, family_data, by = "NEWID", all.x = TRUE)
   
   # Unify UCC type to chr
   merged_data$UCC <- as.character(merged_data$UCC)
   
   # Filter negative expenditures
   merged_data <- merged_data %>%
     filter(COST > 0)
   
   # Save in the list
    merged_list[[paste0(intv_quarter)]] <- merged_data
  }

# Save list in df
merged_data <- bind_rows(merged_list)

# Add variables
merged_data <- merged_data %>%
  mutate(REF_YR = as.integer(REF_YR),
         REF_MO = as.integer(REF_MO),
         high_income = if_else(INC_RANK >= 0.8, 1, 0),
         weight = FINLWT21,
         INC_QT = case_when(INC_RANK < 0.25 ~ 1,
                            INC_RANK < 0.5 & INC_RANK >= 0.25 ~ 2,
                            INC_RANK < 0.75 & INC_RANK >= 0.5 ~ 3,
                            INC_RANK >= 0.75 ~ 4))


#### Extract Luxury, General Expenditure ####
# Filter remnants of 2018 data
merged_data <- bind_rows(merged_data) %>%
  filter(REF_YR != 2018)
 
# Luxury
# Standards are set arbitrarily after analyzing cost distributions of each category.
luxury_high <- c(
  "360330",  # Men's accessories
  "380901"   # Women's accessories      # $500+ (bags go here)
)   
luxury_mid <- c(
  "400110",  # Men's footwear
  "400310"   # Women's footwear     # $300+
)
luxury_suit <- c(
  "360110",  # Men's suits
  "360120",  # Men's sportcoats, tailored jackets
  "380311",  # Women's sportcoats, tailored jackets
  "380210",  # Women's dresses
  "380510",   # Women's suits
  "360210",  # Men's coats and jackets
  "380110"  # Women's coats and jackets      # $400+
)
luxury_app <- c(
  "360420",  # Men's shirts, sweaters, and vests
  "360513",  # Men's pants and shorts
  "380315",  # Women's sweaters, shirts, tops, vests
  "380320",  # Women's skirts
  "380333"  # Women's pants and shorts   # $300+
)

merged_data <- merged_data %>%
  mutate(luxury_flag = case_when(
    UCC %in% luxury_high & COST >= 500 ~ TRUE,
    UCC %in% luxury_mid & COST >= 300 ~ TRUE,
    UCC %in% luxury_suit & COST >= 400 ~ TRUE,
    UCC %in% luxury_app & COST >= 300 ~ TRUE,
    TRUE ~ FALSE
  )) %>%
  mutate(general_flag = case_when(
    (REF_YR < 2021 | (REF_YR == 2021 & REF_MO <= 3)) & UCC %in% gen_intv  ~ TRUE,
    TRUE ~ FALSE
  ))

## Data Simplification
merged_data <- merged_data %>%
  filter(luxury_flag == TRUE | general_flag == TRUE)



#### Add CPI ####
library(httr)

data   <- read_tsv("~/Documents/CS&SS 322/Final project/cu.data.txt")
mapping <- read_csv("~/Documents/CS&SS 322/Final project/ce-cpi-concordance-2024.csv") %>%
  bind_rows(tibble(UCC = c("330119","20219"), ELI = c("HN011", "FB011"))) %>% # 330119 and (0)20219 is a new UCC from 2023, doesn't exist in the 
                                                             # current version, so I directly took it from the latest version in US BLS official website.
  mutate(UCC = as.character(UCC),
         UCC = if_else(nchar(UCC) == 5, paste0("0", UCC), UCC),
         ELI = paste0(substr(ELI, 1, 4))) %>%
  select(UCC, ELI) %>%
  rename(item_code = ELI) %>%
  filter(item_code != "NA") %>%
  group_by(UCC) %>%
  slice(1) %>%   # UCC with multiple similar matching-ELI exist (ELI TA01 and TA02 both represent 330119, but only "TA" exists in data.txt)
  ungroup() 

full_cpi <- data %>%
  filter(startsWith(series_id, "CUUR0000SE")) %>%       
  mutate(item_code = str_remove(series_id, "^CUUR0000SE")) %>%
  mutate(month = sprintf("%02d", as.integer(gsub("M", "", period))),
         date = paste0(year, "-", month)) %>%
  filter(grepl("^\\d{4}-\\d{02}$", date))

cpi_clean <- full_cpi %>%
  select(item_code, date, value) %>%
  rename(cpi_value = value)

cpi_base <- cpi_clean %>%
  filter(date == "2019-01") %>%
  select(item_code, base_cpi = cpi_value)

cpi_adjusted <- cpi_clean %>%
  left_join(cpi_base, by = "item_code") %>%
  mutate(cpi_ratio = cpi_value / base_cpi)

merged_data <- merged_data %>%
  mutate(yearmo = sprintf("%d-%02d", REF_YR, REF_MO)) %>%
  left_join(mapping, by = "UCC") %>%
  mutate(item_code = case_when(
    item_code %in% c("HA01", "TE01", "HD01") ~ str_remove(item_code, "01$"),  # Matched in wrong formats (in data, only HA, TE, HD exists and 
                                                                              # the number 01 is to separate categories within each UCC)
    TRUE ~ item_code
    )) %>%
  left_join(cpi_adjusted, by = c("item_code", "yearmo" = "date")) %>%
  mutate(COST_real = COST * cpi_ratio)

# Add stage
merged_data <- merged_data %>%
  mutate(stage = case_when(
    REF_YR == 2019 ~ "pre_shock",
    REF_YR == 2020 & REF_MO >= 1 & REF_MO <= 3 ~ "breakout",
    REF_YR == 2020 & REF_MO >= 4 & REF_MO <= 6 ~ "Q1_shock",
    REF_YR == 2020 & REF_MO >= 7 & REF_MO <= 9 ~ "Q2_shock",
    REF_YR == 2020 & REF_MO >= 10 & REF_MO <= 12 ~ "Q3_shock",
    REF_YR == 2021 & REF_MO >= 1 & REF_MO <= 2 ~ "Q4_shock",      ### Each quarterly data records until 1 month before the last month in the quarter.
    TRUE ~ "ERROR"
  ))

#### Weight Control ####
# Set MO_SCOPE for weighted mean calculation, Weight adjustment implementing US BLS method
merged_data <- merged_data %>%
  mutate(
    MO_SCOPE = case_when(
      QINTRVMO == 1 ~ 0,  
      QINTRVMO == 2 ~ 1,  
      QINTRVMO == 3 ~ 2, 
      QINTRVMO >= 4 ~ 3,  
      TRUE ~ NA_real_
    )
  ) %>%
  mutate(
    weight_adj = FINLWT21 * (MO_SCOPE / 3) / 4
  )

#### Compare ####
# Summary data
## luxury (weighted standard error is used)
luxury_sum <- merged_data %>% 
  filter(luxury_flag) %>% 
  group_by(NEWID, REF_YR, REF_MO, stage, high_income) %>% 
  summarise(
    sum_cost = sum(COST),
    weight   = first(weight_adj),
    .groups  = "drop"
  ) %>%
  group_by(stage, high_income) %>% 
  summarise(
    mean_price = weighted.mean(sum_cost, weight),      
    .groups    = "drop"
  ) 
## general (weighted standard error is used)
general_sum <- merged_data %>% 
  filter(general_flag) %>% 
  group_by(NEWID, REF_YR, REF_MO, stage, high_income) %>% 
  summarise(
    sum_cost = sum(COST_real),
    MO_SCOPE = MO_SCOPE,
    weight   = first(weight_adj),
    .groups  = "drop"
  ) %>%                               
group_by(stage, high_income) %>% 
  summarise(
    mean_price = weighted.mean(sum_cost, weight),
    .groups    = "drop"
  )

 # Pivot the data
## Luxury
lux_wide <- luxury_sum %>%
  pivot_wider(names_from = stage,
              values_from = c(mean_price))

## General
gen_wide <- general_sum %>%
  pivot_wider(names_from = stage,
              values_from = mean_price,
              names_prefix = "gen_")

# Comprehensive result
results <- lux_wide %>%
  left_join(gen_wide, by = "high_income") %>%
  mutate(
    lux_breakout_change = (breakout / pre_shock - 1) * 100,
    lux_Q1_change = (Q1_shock / breakout - 1) * 100,
    lux_Q2_change = (Q2_shock / Q1_shock - 1) * 100,
    lux_Q3_change = (Q3_shock / Q2_shock - 1) * 100,
    lux_Q4_change = (Q4_shock / Q3_shock - 1) * 100,
    
    gen_breakout_change = (gen_breakout / gen_pre_shock - 1) * 100,
    gen_Q1_change = (gen_Q1_shock / gen_breakout - 1) * 100,
    gen_Q2_change = (gen_Q2_shock / gen_Q1_shock - 1) * 100,
    gen_Q3_change = (gen_Q3_shock / gen_Q2_shock - 1) * 100,
    gen_Q4_change = (gen_Q4_shock / gen_Q3_shock - 1) * 100
    )

```

# 1. Introduction

Understanding how consumers adjust discretionary spending in response to economic shocks is critical for firms operating in volatile markets such as luxury retail, where purchases are often driven by status signaling or emotional utility rather than necessity.
The COVID-19 pandemic, which began in early 2020, created a unique natural experiment to examine these behavioral adjustments.
As income expectations shifted and physical access to discretionary goods was disrupted, the luxury market experienced substantial volatility.
While global luxury-goods sales declined by over 20% in 2020 (*Luxury Goods Worldwide Market Study*, Bain & Company and Altagamma, Fall–Winter Edition), general consumption especially in categories like groceries and home goods remained resilient or even expanded (*Monthly Retail Trade Report*, U.S. Census Bureau, 2020; *U.S. Consumer Sentiment During the Coronavirus Crisis* McKinsey & Company, 2020)

This study investigates how luxury consumption in the U.S. responded across four distinct phases of the pandemic: pre-shock, shock, initial recovery, and sustained recovery.
To evaluate these dynamics, this study draws on the Consumer Expenditure Survey (CES), a nationally representative dataset maintained by the Bureau of Labor Statistics that captures household-level spending over time.
Although CES was not designed specifically for analyzing high-end consumer behavior, it is the most accessible and grand public dataset for tracking expenditure trends at a monthly and household level.

Importantly, firm-level revenue or transaction data from major luxury brands would offer a more precise lens into the issue but most of them are confidential and inaccessible to the public.
The absence of brand-specific identifiers in CES makes it necessary to rely on product type (Universal Classification Codes, UCC)) and minimum price thresholds to approximate luxury purchases.
While imperfect, this method provides a consistent, replicable framework for identifying high-end consumption within the dataset.

This study aims to address the following three research questions:

1.  *To what extent did luxury consumption among high-income households decline in response to the COVID-19 shock?*

2.  *How did luxury spending adjustments differ across income groups?*

3.  *Was luxury consumption more sensitive to the macroeconomic shock than general spending?*

By answering these questions, this research contributes to a better understanding of the cyclical nature of luxury demand and provides operational insight for firms seeking to adapt their inventory, targeting, and marketing strategies in times of economic uncertainty.

# 2. Data

This study utilizes the Public Use Microdata from the U.S.
CES, collected by the Bureau of Labor Statistics (BLS), covering the period from January 2019 to February 2021.
CES provides detailed quarterly household-level spending data across a wide range of consumption categories.
Specifically, two files are used: the FMLI (Family Interview File), which contains household-level demographic and income variables, and the MTBI (Monthly Expenditure File), which lists monthly expenditure items by product category.

To identify luxury items, UCCs commonly associated with discretionary apparel and accessories were selected, including men’s suits, outerwear, and designer footwear.
These UCCs were then filtered using price thresholds, such as \$500 for accessories (including luxury bags) and \$300 for shoes.
Transactions meeting both criteria of UCC match and price minimum were flagged as luxury_flag = TRUE.

Notably, CES data reflect self-reported expenditures and are based on a rotating panel survey design.
Each household is interviewed once per quarter for four consecutive quarters, and spending captured reflects only what was reported during those intervals.

## 2.1 Merging and Key Variables

The CES datasets used in this study, FMLI and MTBI, were merged using the unique household identifier NEWID, which remains consistent across files and quarters.
This merge enables the construction of a panel dataset linking detailed demographic and income characteristics with monthly expenditure events.

From the FMLI file, three core variables were extracted:

-   INC_RANK: A percentile-based ranking of household income within each survey wave, used to stratify households into high-income (top 20%) and lower-income groups.
-   FINLWT21: The full-sample household-level weight, used to adjust for sampling design and make national-level inferences from the observed data. 
-   QINTRVMO: An integer from 1 to 4 indicating the month within the household’s interview quarter in which a given expenditure was reported. 
  -   (For detailed weighting method, please refer to Appendix B.)

The MTBI file provided transaction-level detail, including:

-   UCC: A Universal Classification Code indicating the category of the item purchased.
-   COST: The nominal (non-adjusted) cost of each expenditure.
-   REF_MO and REF_YR: The reference month and year of the expenditure, enabling the construction of monthly time series.

The resulting merged dataset includes both household-level attributes and item-level expenditures.
A new variable, stage, was created to classify each record into one of 6 economic stages: 

-   Pre-Shock (January-December, 2019)
-   Breakout (January, 2020-March, 2020)
-   2020 Q2 (April 2020–June, 2020)
-   2020 Q3 (July, 2020-September, 2020)
-   2020 Q4 (October, 2020-December, 2020)
-   2021 Q1 (January, 2021-February, 2021)

This variable forms the temporal backbone of the analysis. (For the reason articulated in Appendix B., 2021 Q1 only includes January and February.)

All general expenditures were adjusted to real terms using item-level Consumer Price Index (CPI) data from the same source (US BLS), with January 2019 set as the base period. The expenditure weights used to calculate the CPI are derived primarily from the Consumer Expenditure Survey. For detailed methodology in calculating CPI, visit [US BLS Consumer Price Index: Overview](https://www.bls.gov/opub/hom/cpi/)
Each expenditure record was matched to its corresponding CPI series through a UCC-to-ELI mapping file provided by US BLS.
Real values were calculated by dividing the nominal cost by the item’s monthly CPI and then multiplying by the CPI value of January 2019 for that same item.
This method preserves relative price changes across categories while normalizing all spending to a common baseline, allowing for inflation-adjusted comparisons across both time and item types.
However, due to the fact that luxury goods tend not to follow the same inflationary patterns as general goods, COST_real is mainly used in analyzing general goods.

Finally, the dataset includes a binary variable luxury_flag, which tags each transaction as luxury or non-luxury based on the combination of UCC code and price threshold.

## 2.2 Identifying Luxury Goods

(To see the classification method for general goods, please refer to Appendix A.)

Since the CES does not contain brand-level data, luxury consumption must be approximated using combinations of product categories and expenditure amounts.
To classify luxury goods within the CES data, specific UCCs were selected based on their association with discretionary, high-end purchases in fashion and accessories.
The selection criteria combined both category-based filtering and price thresholds to approximate luxury consumption.
The following rules were applied:

-   **Accessories (incl. bags)**
    -   *UCCs:*
        -   `360330`: Men's accessories
        -   `380901`: Women's accessories
    -   *Threshold:* Only items priced **above \$500** were classified as luxury.
-   **Footwear (Men/Women)**
    -   *UCCs:*
        -   `400110`: Men’s footwear
        -   `400310`: Women’s footwear
    -   *Threshold:* Only items priced **above \$300** were classified as luxury.
-   **Jackets, Suits and Dresses**
    -   *UCCs:*
        -   `360110`: Men’s suits
        -   `360120`: Men’s sportcoats and tailored jackets
        -   `380311`: Women’s sportcoats and tailored jackets
        -   `380210`: Women’s dresses
        -   `380510`: Women’s suits
        -   `360210`: Women's skirts
        -   `380333`: Women’s suits
    -   *Threshold:* Only items priced **above \$400** were classified as luxury.
-   **Tops, Bottoms, and General Apparel**
    -   *UCCs:*
        -   `360420`: Men’s shirts, sweaters, and vests
        -   `360513`: Men’s pants and shorts
        -   `380315`: Women’s sweaters, shirts, tops, and vests
        -   `380320`: Women’s skirts
        -   `380333`: Women’s pants and shorts
    -   *Threshold:* Only items priced **above \$300** were classified as luxury.

This classification framework was developed after visual inspection of cost histograms for each UCC and cross-referencing with typical market price ranges for luxury goods.

This approach helps isolate transactions that likely represent premium purchases without over-relying on average prices or assuming all category entries are luxury by default.

To operationalize this classification, a binary variable luxury_flag was introduced.
Transactions that met both the category and cost conditions were flagged as TRUE.

## 2.3 Identifying General Goods

To construct a comparative baseline for evaluating shifts in luxury consumption, a set of general goods was selected to represent essential, recurring, and non-discretionary expenditures. These items serve as a behavioral counterpoint to luxury spending, offering insights into how household spending priorities differ across economic phases.

The selection of general goods followed two guiding principles: the items should (1) represent necessities or fixed commitments, and (2) be unlikely to exhibit strong cyclical sensitivity or reputational signaling. For consistency, only UCCs consistently present in the CES Interview files during the entire study period (October 2018–March 2021) were included.

The following UCCs were selected to represent general consumption:

-   Housing and Utilities
	-   210110: Rent of dwelling
	-   260111: Electricity – renter
	-   260112: Electricity – homeowner
-   Communications
	-   270102: Cellular phone service
-   Insurance (Recurring Contracts)
	-   500110: Vehicle insurance
	-   350110: Renter’s insurance
	
A binary variable general_flag was created to distinguish these transactions in the data. All records matching the UCC codes listed above were flagged as TRUE. 

# 3. Theory and Hypothesis

Consumer response to economic shocks is often framed through the lens of income elasticity and precautionary behavior.
According to the Permanent Income Hypothesis (PIH), individuals smooth consumption in the face of temporary income fluctuations.
However, when uncertainty such as during a pandemic rises, households tend to reduce discretionary spending and increase precautionary savings, particularly for goods with high income elasticity, such as luxury items.

Luxury products, by their nature, tend to be non-essential and status-driven, making them more susceptible to cyclical downturns.
Prior studies (e.g., Charles, Hurst, & Roussanov 2009) suggest that high-income consumers may reduce visible luxury expenditures more sharply in recessions not necessarily due to financial constraints, but due to reputational concerns or changes in utility from conspicuous consumption.

At the same time, supply-side disruptions including store closures and global logistics breakdowns may constrain luxury availability, creating temporary declines in observed spending that are not entirely demand-driven.
As economic conditions stabilize and channels reopen, a delayed rebound or “pent-up demand” effect is expected, particularly for categories with strong positional or identity value (Chevalier & Luo 2021).

While this study doesn't focus on either extracting the net impact of such crisis or how exactly consumers in luxury industry react differently, my primary interest is in providing a descriptive insight on the movements themselves, and compare the tendency.

# 4. Visualization


## 4.1 Monthly Mean Price Trends Before and After the Initial Breakout

```{r}
monthly_cu <- merged_data %>%
  mutate(date = make_date(REF_YR, REF_MO, 1)) %>%
  group_by(NEWID, date, luxury_flag) %>%
  summarise(
    sum_cost_nominal = sum(COST),
    sum_cost_real = sum(COST_real),
    weight = first(weight_adj),
    .groups = "drop"
  )

lux_ts <- monthly_cu %>%
  filter(luxury_flag) %>%
  group_by(date) %>%
  summarise(
    mean_price = weighted.mean(sum_cost_nominal, weight),
    .groups = "drop"
  ) %>%
  mutate(type = "Luxury")

gen_ts <- monthly_cu %>%
  filter(!luxury_flag) %>%
  group_by(date) %>%
  summarise(
    mean_price = weighted.mean(sum_cost_real, weight),
    .groups = "drop"
  ) %>%
  mutate(type = "General")

# Make combined df
ts_combined <- bind_rows(lux_ts, gen_ts)

# Plot
ggplot(ts_combined, aes(x = date, y = mean_price, color = type)) +
  geom_line(linewidth = 1.2) +
  geom_vline(xintercept = as.Date("2020-01-01"), linetype = "dashed", color = "grey40") +
  labs(title = "Average Household Monthly Expenditure \nby Spending Category",
    x = "Date",
    y = "Dollar (Lux: Nominal/Gen: CPI-Adj)",
    color = "Spending Category",
    caption = "Note: Means are weighted") +
  theme_minimal()

```

The graph shows how average household spending per recorded item changed each month from early 2019 through early 2021, with a comparison between luxury and general consumption categories. The luxury data is presented in nominal dollars, while general spending is adjusted for inflation using CPI. The Y-axis represent transaction values, calculated as weighted means at the household level.The vertical dashed line at January 2020 marks the initial breakout of COVID-19 in the United States.

One of the most notable features of Figure 1 is the contrast in volatility between luxury and general spending categories. While some of this difference stems from the nature of the goods themselves, it is also partly driven by data characteristics. The number of observations for luxury items over the entire period is 2,702, which is substantially smaller than the 312,475 observations recorded for general goods. This discrepancy likely contributes to the higher volatility seen in the luxury series. Additionally, the luxury prices shown are nominal, while general goods are CPI-adjusted, which may further amplify fluctuations in the former.

Despite the volatility, several meaningful patterns emerge. Prior to January 2020, both categories display relatively stable spending behavior. Luxury spending fluctuates within a \$600–900 range, while general spending hovers consistently around \$700. This suggests that, in the absence of major shocks, both essential and discretionary spending maintained a steady, relatively higher  baseline and average spending than those of post-breakout.

A major turning point appears around early 2020 with the onset of the COVID-19 pandemic. Luxury spending declines sharply, falling below the \$600 mark for the first time, and struggles to regain previous levels throughout the rest of the observed period. General spending also declines, though more gradually and with less magnitude, breaking below its previous \$700 floor by mid-2020. This simultaneous decline reinforces the idea that consumers across the board adjusted their spending patterns in response to the shock, and this decision affected luxury spending category harder than general.

Another point worth noting is the timing of the rebound during shock period. General expenditures began to rise around June 2020, followed by luxury spending, which turned upward roughly a month later in July. Although the bounce in luxury spending may be partially driven by noise due to smaller sample size, the similar shift in general goods indicates that this upward movement reflects a real behavioral change. The slower and more erratic recovery seen in luxury goods could suggest that discretionary and symbolic consumption was slower to recover than essential spending.

```{r, results = 'asis'}

agg <- merged_data %>% 
  group_by(NEWID, REF_YR, REF_MO, stage, high_income, luxury_flag) %>% 
  summarise(cost   = sum(if_else(luxury_flag, COST, COST_real)),
            weight = first(weight_adj), .groups = "drop") %>%
  mutate(stage = factor(stage, levels = c("pre_shock", "breakout", "Q1_shock", "Q2_shock", "Q3_shock", "Q4_shock")))

agg_lux <- agg %>%
  filter(luxury_flag)

agg_gen <- agg %>%
  filter(!luxury_flag)

#### Lux stage-to-stage ####
mod_lux <- feols(cost ~ stage, data = agg_lux, weights = ~weight, cluster = ~NEWID)

emm_lux <- emmeans(mod_lux, ~ stage, data = agg)

levels(emm_lux)$stage <- c("Pre-Shock", "Breakout", "2020 Q2", "2020 Q3", "2020 Q4", "2021 Q1")

consec_contrasts_lux <- contrast(emm_lux, method = "consec") %>% 
  as.data.frame()

#### Gen stage-to-stage ####
mod_gen <- feols(cost ~ stage, data = agg_gen, weights = ~weight, cluster = ~NEWID)

emm_gen <- emmeans(mod_gen, ~ stage, data = agg)

levels(emm_gen)$stage <- c("Pre-Shock", "Breakout", "2020 Q2", "2020 Q3", "2020 Q4", "2021 Q1")

consec_contrasts_gen <- contrast(emm_gen, method = "consec") %>% 
  as.data.frame()

consec_contrasts_gen$contrast <- factor(
  consec_contrasts_gen$contrast,
  levels = c("Breakout - (Pre-Shock)",
             "2020 Q2 - Breakout",
             "2020 Q3 - 2020 Q2",
             "2020 Q4 - 2020 Q3",
             "2021 Q1 - 2020 Q4")
)

#### visualize ####
consec_contrasts_lux$contrast <- factor(
  consec_contrasts_lux$contrast,
  levels = c("Breakout - (Pre-Shock)",
             "2020 Q2 - Breakout",
             "2020 Q3 - 2020 Q2",
             "2020 Q4 - 2020 Q3",
             "2021 Q1 - 2020 Q4")
)

lux_plot <- ggplot(consec_contrasts_lux, aes(x = contrast, y = estimate)) +
  geom_point(size = 2.5) +
  geom_errorbar(aes(ymin = estimate - 1.96 * SE,
                    ymax = estimate + 1.96 * SE),
                width = 0.2) +
  geom_hline(yintercept = 0, linetype = "dashed", color = "gray40") +
  labs(title = "Stage-to-Stage Differences (Lux / Gen)",
       subtitle = "Left: Luxury, Right: General",
       x = "",
       y = "Change in Expenditure ($)") +
  theme_minimal(base_size = 13) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))

gen_plot <- ggplot(consec_contrasts_gen, aes(x = contrast, y = estimate)) +
  geom_point(size = 2.5) +
  geom_errorbar(aes(ymin = estimate - 1.96 * SE,
                    ymax = estimate + 1.96 * SE),
                width = 0.2) +
  geom_hline(yintercept = 0, linetype = "dashed", color = "gray40") +
  labs(x = "",
       y = "",
       caption = "Error bars indicate 95% CI. Model: FE OLS with clustered SE.") +
  theme_minimal(base_size = 13) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))

lux_plot + gen_plot

```

In the luxury category, the most statistically reliable shift occurs between 2020 Q2 and Q3. While the confidence interval still includes zero and below, it is more likely that the true population value is positive. This indicates a meaningful recovery in luxury spending after the initial pandemic shock. While the decline from Breakout to Q2 appears large, the wide confidence band suggests considerable uncertainty. During 2020 Q4 to 2021 Q1, however, the expenditure trend turned negative, and the interval doesn't include 0, indicating the dip actually happened within 95% confidence interval.

On the general side, only one change-between 2020 Q2 and Q3-shows a significant positive difference in spending. The estimated increase of around $80 is accompanied by a tight confidence interval that does not include zero, implying that general goods spending rose during this phase. The only period that shows statistically meaningful shifts in either direction falls between 2020 Q2 and 2020 Q4. Because general spending is more stable and representative of broader consumer behavior, the significant increase in luxury spending from 2020 Q2 to Q3, even if marginal in precision, likely reflects a real recovery. This supports earlier claims that this stage marked a true behavioral rebound in discretionary consumption. For detailed numeric values, please refer to Appendix D.

## 4.2 Luxury Demand Elasticity across Economic Stages and Income Levels

```{r}
# Convert income group to factor
results$high_income <- factor(results$high_income, labels = c("Low Income", "High Income"))

# Make long format for bar plotting
results_long <- results %>%
  select(high_income, pre_shock, breakout, Q1_shock, Q2_shock, Q3_shock, Q4_shock) %>%
  pivot_longer(
    cols = -high_income,
    names_to = "stage",
    values_to = "mean_price"
  ) %>%
  mutate(stage = factor(stage,levels = c("pre_shock", "breakout", "Q1_shock", "Q2_shock", "Q3_shock", "Q4_shock"),
                        labels = c("Pre-Shock", "Breakout","2020 Q2", "2020 Q3", "2020 Q4", "2021 Q1")))

# Plot
ggplot(results_long, aes(x = stage, y = mean_price)) +
  geom_bar(stat = "identity", position = "dodge") +
  facet_wrap( ~ high_income) +
  labs(title = "Average Household Monthly Luxury Spending \nby Stage and Income Group",
       x = "Economic Phase",
       y = "Mean Luxury Transaction Value (Unadjusted $)",
       fill = "Income Group",
       caption = "Data from US Bureau of Labor Statistics Consumer Expenditure Survey (2019-Feb.2021)") +
  theme_minimal() +
  theme(
    axis.text.x = element_text(size = 8, angle = 30, hjust = 1),
    strip.text = element_text(size = 12)
  )

```

The bar graph compares average monthly luxury spending per household across different economic stages, split by income group. The bars represent unadjusted transaction values, calculated as weighted means at the household level. On the left, we see the trend for low-income households, while the right panel captures the same measure for high-income consumers. Visually, the luxury spending patterns differ not just in magnitude but also in volatility and sensitivity across the two groups.

One of the most notable features is the sharp decline seen in the high-income segment during the early shock phase. Average transaction value drops significantly from around \$830 in the pre-shock period to under \$500 by Q2 of 2020. This is followed by a partial rebound over the next two quarters, though values remain below pre-pandemic levels. Such a steep drop suggests that discretionary luxury spending among wealthy consumers was hit hard during the initial months of the COVID-19 crisis, likely due to uncertainty, restricted access, and shifting consumption priorities.

In contrast, the low-income group shows a relatively flatter pattern across the same stages. While there is some decrease during the early shock phases, the range of fluctuation is narrower, generally between \$550 and \$650. This could reflect that luxury purchases among lower-income households are both rarer and more consistent in price, with fewer extremely high-value outliers. Their spending appears more buffered, possibly because only smaller-ticket luxury items meet the selection criteria in this income group.

What stands out most is the fact that, despite differing initial levels, both groups experience a decline over the pandemic period, with high-income consumers displaying both a steeper fall and greater volatility. This aligns with the idea that high-end discretionary spending is more sensitive not only to income expectations, but also to macroeconomic uncertainty and consumer confidence. Meanwhile, lower-income luxury spending seems steadier, possibly because it is more modest in scale or constrained to occasional purchases that continue even during downturns.

```{r}
QT <- merged_data %>%
  filter(luxury_flag) %>%
  group_by(NEWID, stage, INC_QT) %>%
  summarise(sum_cost = sum(COST),
            weight   = first(weight_adj),
            .groups  = "drop") %>%
  group_by(stage, INC_QT) %>%
  summarise(mean_price = weighted.mean(sum_cost, weight),
            .groups = "drop") %>%
  mutate(
    stage = factor(stage, levels = c("pre_shock", "breakout", "Q1_shock", "Q2_shock", "Q3_shock", "Q4_shock"),
                        labels = c("Pre-Shock", "Breakout","2020 Q2", "2020 Q3", "2020 Q4", "2021 Q1"))
  )

ggplot(QT, aes(x=stage, y=mean_price)) +
  geom_bar(stat = "identity", position = "dodge") +
  facet_wrap(~INC_QT) +
  labs(title = "Average Household Monthly Luxury Spending \nby Stage and Income Quartile",
       x = "Economic Phase",
       y = "Mean Luxury Transaction Value (Unadjusted $)",
       fill = "Income Group",
       caption = "Data from US Bureau of Labor Statistics Consumer Expenditure Survey (2019-Feb. 2021)") +
  theme_minimal() +
  theme(
    axis.text.x = element_text(size = 8, angle = 30, hjust = 1),
    strip.text = element_text(size = 12)
  )
```


Next graph presents average monthly luxury spending per household across different economic phases, segmented by income quartile from 1 (lowest) to 4 (highest). The y-axis reflects unadjusted transaction values, and each panel corresponds to a different income quartile. This level of stratification enables a more granular view of how luxury consumption patterns evolved not just between broad income groups, but across the income distribution itself, revealing behavioral nuances that might otherwise be obscured.

The most consistent and interpretable pattern appears in the bottom-right panel (Quartile 4), representing the highest-income households. Prior to the pandemic, this group exhibited the highest average luxury transaction value exceeding \$900. In 2020 Q2, coinciding with the peak of economic uncertainty and lockdown measures, this value drops sharply to around \$600. Though a rebound follows in the latter half of 2020, average spending never fully recovers to pre-shock levels. Quartile 3 follows a similar trajectory, albeit with lower absolute values and a more gradual decline. Notably, both upper-income quartiles show some degree of recovery momentum through the end of the observed period, suggesting that these households adjusted their discretionary spending downward initially, but resumed it as conditions stabilized.

Quartiles 1 and 2, representing lower-income households, display markedly noisier and more inconsistent behavior. The top-left panel (Quartile 1) begins with unexpectedly high average spending, followed by a dramatic collapse in 2020 Q2 and a prolonged period of stagnation. Unlike the other quartiles that began recovering around Q3 of 2020, this lowest income group shows a delayed response. Average spending only begins to rise again around Q4 2020, and even then the rebound appears less stable. Quartile 2 exhibits a brief spike in Q3 2020, but then returns to a downward trajectory, suggesting that the observed jump may be due to a small number of unusually large purchases rather than a systematic shift in behavior.

This divergence highlights how liquidity constraints, income volatility, and precautionary saving behaviors may influence consumption differently across the income spectrum. For lower-income households, luxury purchases are more likely to be infrequent, highly discretionary, and dependent on short-term financial slack. Their delayed or inconsistent recovery in spending may reflect tighter financial margins and slower asset recovery, supporting the idea that economic uncertainty compresses not just how much is spent, but when households feel safe enough to resume non-essential consumption.

# 5. Statistical Analysis

To evaluate how luxury and general consumption patterns evolved during and after the COVID-19 economic shock, this section presents detailed summary statistics and results.
While prior visualizations highlighted broad trends, now the focus moves to whether the observed spending movements are statistically significant, and whether differences across income groups and product types persist when controlling for sampling weights and household-level clustering.

## 5.1 Price Changes by Stage and Income Group

Let’s first take a look at average expenditure levels.
One of the most noticeable differences lies in the gap between low- and high-income groups.

```{r, results = 'asis'}
#### Overall Results (%p change) ####
# Group 1: lux mean columns
group1 <- results %>% select(high_income, pre_shock, breakout, Q1_shock, Q2_shock, Q3_shock, Q4_shock)
colnames(group1) <- c("Income", "Pre-Shock", "Breakout", "2020 Q2", "2020 Q3", "2020 Q4", "2021 Q1")
group1 %>%
  mutate(across(where(is.numeric), round, 2)) %>%
  kbl(caption = "Average Household Monthly Luxury Spending by Stage and Income Group (Unadjusted)",
      format = "latex", booktabs = TRUE, align = "c") %>%
  kable_styling(latex_options = c("scale_down", "hold_position"))


# Group 2: gen mean columns
group2 <- results %>% select(high_income, starts_with("gen"), -ends_with("change"))
colnames(group2) <- c("Income","Pre-Shock","Breakout","2020 Q2", "2020 Q3", "2020 Q4", "2021 Q1")

group2 %>%
  mutate(across(where(is.numeric), round, 2)) %>%
  kbl(caption = "Average Household Monthly General Spending by Stage and Income Group (CPI-Adjusted)",
      format = "latex", booktabs = TRUE, align = "c") %>%
  kable_styling(latex_options = c("scale_down", "hold_position"))
```

Tables 1 and 2 summarize average monthly household expenditures across distinct economic phases, distinguishing between luxury and general spending by income group. Luxury item values are reported in nominal dollars, while general spending figures are CPI-adjusted. This distinction is crucial for understanding how households prioritized different consumption types as the COVID-19 shock unfolded and recovery phases followed.

A key difference in timing is immediately apparent. For luxury spending (Table 1), both income groups show a decline during the breakout period, even before the sharp economic downturn in 2020 Q2. In contrast, general spending (Table 2) remained stable through the initial stages and began decreasing only from Q2 onward. This suggests that luxury expenditures were cut more quickly in response to uncertainty, whereas general consumption was preserved longer, reflecting its essential nature.

Looking within groups, low-income households show a modest rebound in luxury spending during Q2 and Q4 of 2020, but their overall level never returns to the pre-shock average of \$643.39. Instead, it fluctuates around the \$600 mark and dips to \$556.86 in 2021 Q1, suggesting ongoing restraint. High-income households, however, reveal a more dramatic adjustment: their average luxury transaction value drops by over \$300 between the breakout and Q2 stages (from \$778.00 to \$484.83), a roughly 35% decline. While a recovery appears in Q3 and Q4, this group’s spending again retreats in 2021 Q1 to a level just above \$500, nearly identical to their Q2 low. This sharper, more responsive contraction and rebound hints at greater flexibility among affluent consumers to rapidly scale discretionary spending.

General spending, by contrast, shows much greater stability across all stages. Both income groups increase spending during the breakout and Q2 stages, possibly reflecting stockpiling or stay-at-home consumption shifts. The gap between high- and low-income groups persists throughout, but neither exhibits dramatic fluctuations. This consistency reinforces the distinction between luxury and general categories—namely, that the former is more sensitive to economic sentiment, while the latter remains more stable due to its necessity.

```{r}
#### Stage Vs. Stage ####
lux_results <- lux_wide %>%
    mutate(
        delta_breakout = (breakout / pre_shock - 1) * 100,
        delta_Q1 = (Q1_shock / breakout - 1) * 100,
        delta_Q2 = (Q2_shock / Q1_shock - 1) * 100,
        delta_Q3 = (Q3_shock / Q2_shock - 1) * 100,
        delta_Q4 = (Q4_shock / Q3_shock - 1) * 100,
        type = "Luxury")
    

gen_results <- gen_wide %>%
    rename_with(~ gsub("^gen_", "", .x)) %>%
    mutate(
        delta_breakout = (breakout / pre_shock - 1) * 100,
        delta_Q1 = (Q1_shock / breakout - 1) * 100,
        delta_Q2 = (Q2_shock / Q1_shock - 1) * 100,
        delta_Q3 = (Q3_shock / Q2_shock - 1) * 100,
        delta_Q4 = (Q4_shock / Q3_shock - 1) * 100,
        type = "General"
    )

combined <- bind_rows(lux_results, gen_results)

combined %>%
  mutate(high_income = if_else(high_income == 1, "High Income", "Low Income"),
         across(where(is.numeric), round, 2)) %>%
  pivot_longer(
    cols = starts_with("delta_"),
    names_to = "stage",
    names_pattern = "delta_(breakout|Q1|Q2|Q3|Q4)"
  ) %>%
  mutate(stage = factor(stage,
                        levels = c("breakout", "Q1", "Q2", "Q3", "Q4"),
                        labels = c("Breakout","2020 Q2", "2020 Q3", "2020 Q4", "2021 Q1"))) %>%
  select(type, high_income, stage, value) %>%
  rename("Type" = type,
         "Income" = high_income,
         "Stage" = stage,
         "Delta %" = value) %>%
  kbl(format = "latex", booktabs = TRUE,
      caption = "Stage-to-Stage Percent Change (General: CPI-adjusted, Luxury: Unadjusted)",
      align = "c") %>%
  kable_styling(latex_options = c("scale_down", "hold_position"))

```

The percentage change based on previously discussed mean prices provide more straightforward analysis.

In the luxury category, low-income households showed mild oscillations in spending. Although a slight recovery is visible in 2020 Q4 (+9.92%), it followed two consecutive declines, and by 2021 Q1, spending had dropped again by over 12%. High-income luxury consumers experienced more dramatic shifts. Notably, luxury spending surged by nearly 50% between Q2 and Q3 of 2020, likely reflecting a short-term rebound in discretionary purchases. However, this rise was short-lived, as it was followed by a nearly 30% decline in 2021 Q1, suggesting volatility in post-shock luxury consumption even among high-income households.

On the general goods side, the pattern is more stable. For both income groups, changes between stages are modest and consistently within a +/-10% range. In fact, high-income households saw a gradual recovery after an initial dip in 2020 Q2, reaching a 13.60% increase by Q3 and maintaining positive momentum through 2021 Q1 (+4.75%). Low-income general spending also shows a gentle increase by Q3, with only minor fluctuations afterward. These patterns reinforce earlier observations that general goods, being more necessity-driven, display less volatility and more consistency across economic phases than luxury items.

## 5.2 Statistically Significant Intervals and Event Study

```{r, results = 'asis'}
groups <- expand.grid(luxury_flag = c(TRUE, FALSE),
                      high_income = c(1, 0))

result_list <- vector("list", length = 0)

for(i in seq_len(nrow(groups))) {
  dat <- agg %>% 
    filter(luxury_flag == groups$luxury_flag[i],
           high_income == groups$high_income[i])  

  mod <- feols(cost ~ stage, dat,
               weights = ~ weight,
               cluster = ~ NEWID)

  mu0 <- coef(mod)[1]               
  b    <- coef(mod)[-1]             
  se   <- se(mod)[-1]

  tmp <- tibble(
      luxury_flag = if_else(groups$luxury_flag[i], "Luxury", "General"),
      high_income = if_else(groups$high_income[i]==1,"High Income","Low Income"),
      stage       = c("Breakout","2020 Q2", "2020 Q3", "2020 Q4", "2021 Q1"),
      delta_pct   = 100 *  b  / mu0,
      se_pct      = 100 * se / mu0,
      ci_low      = delta_pct - 1.96 * se_pct,
      ci_high     = delta_pct + 1.96 * se_pct,
      p_value     = 2*pnorm(-abs(delta_pct/se_pct))
  )

  result_list[[length(result_list)+1]] <- tmp
}

final_results <- bind_rows(result_list)

colnames(final_results) <- c("Type", "Income", "Stage", "Delta %", "SE %", "CI Low", "CI High", "p-value")

## 3)  LaTeX
final_results %>% 
  mutate(across(where(is.numeric), round, 2)) %>% 
  kbl(format = "latex", booktabs = TRUE,
      caption = "Stage-by-Stage Percent Change (Pre-Shock Baseline) with 95\\% CI (General: CPI-adjusted, Luxury: Unadjusted)",
      align = "c") %>% 
  kable_styling(latex_options = c("hold_position","scale_down"))

```

In the luxury category, high-income households experienced two statistically significant declines relative to the pre-shock baseline. Specifically, spending in 2020 Q2 fell by 41.44% (p = 0.00, 95% CI: -57.55 to -25.33), and 2021 Q1 recorded a 39.45% decrease (p = 0.00, 95% CI: -58.12 to -20.77). Both intervals exclude zero, confirming that these drops are unlikely due to random variation. Other stages (Q3 and Q4 of 2020) also show negative deltas (~-12%), but their wide intervals crossing zero render them insignificant.

For low-income luxury consumers, all changes relative to the pre-shock baseline are statistically insignificant. Although 2021 Q1 shows a notable decline of -13.45%, the wide CI (-41.74 to 14.84) and p = 0.35 indicate the result is inconclusive.

In the general category, low-income households show a 6.31% increase in 2020 Q3 (p = 0.00, 95% CI: 3.18 to 9.44) and a 5.62% increase in 2021 Q1 (p = 0.02, 95% CI: 0.93 to 10.31). These are the only general-category estimates across income groups that achieve significance. Notably, Q2 and Q4 show minor shifts but remain within non-significant margins.

In contrast, high-income general spending does not exhibit any significant changes across stages. Even the largest delta, +6.06% in 2020 Q3, has a 95% CI of [-0.58, 12.71] and a p = 0.07, just above the typical 0.05 cutoff.

Together, these results suggest that high-income households made the most deliberate cuts in luxury consumption, particularly during the second quarter of 2020 and again in early 2021. Meanwhile, general spending saw a limited but statistically credible rebound among low-income consumers, especially in Q3 2020 and Q1 2021, possibly reflecting recovery in essential purchases.


# 6. Conclusion

The detailed analysis finds that high‑income households sharply curtailed their luxury spending in 2020. During the height of the pandemic restrictions, expenditures on luxury goods and services. by top‑income consumers collapsed far more dramatically than their overall spending.  At the peak of lockdowns, luxury‐category purchases by affluent households were roughly cut in half relative to pre‑pandemic levels.  By contrast, low‑ and middle‑income groups exhibited much smaller proportional drops in their “luxury” outlays, partly because these households had less luxury spending to begin with.  In short, luxury spending among the wealthy fell steeply whereas general spending across all groups declined to a lesser degree.  Moreover, the analysis shows that luxury categories remain more volatile: they fell earlier and deeper.

Adjustment patterns varied sharply by income group. The highest‐income quintiles re‑cut their budgets the most dramatically, especially for discretionary items, while the lowest quintiles saw the slighter change.  In practice, wealthy households reallocated a large share of their budgets away from hotels, airlines, upscale entertainment and big‑ticket fashion.  Middle‑income households also reduced their luxury expenditure, but to a more moderate extent (since a greater share of their budget is tied to essentials).  Lower‑income households hardly changed their minimal luxury spending, instead mostly cutting down on whatever little non‑essentials they had.  Thus, the decline in luxury consumption was most concentrated at the top of the income distribution, with each successive lower income decile showing a smaller cutback. 

Luxury consumption was considerably more sensitive to the COVID shock than general spending. General spendings proved relatively resilient, whereas discretionary luxury spending plunged. In percentage terms, high‐end purchases contracted far faster and deeper than average consumption in 2020.  In other words, when the economy is hit, luxuries swing more severely.  This suggests a sharp degree of price‑ and income‑sensitivity for the luxury sector: affluent consumers cut these nonessential items first when uncertainty spikes.

These findings have direct practical implications for luxury brands’ marketing, sales, and strategy:

-   Targeted Marketing to Pent‑Up Demand:  During the crisis, many high-income consumers held back on luxury spending, but they likely accumulated savings and still have strong interest in luxury goods. Brands should prepare to reconnect with this group as conditions improve. Strategies like loyalty programs, early access to new collections, and personalized outreach can help bring them back. Emphasizing safety and exclusivity, such as private store visits or travel-safe packages, can make them feel comfortable spending again. Since these consumers are expected to lead the recovery, marketing budgets should focus on offering curated, high-touch experiences.

-   Product and Pricing Strategies by Segment:  The analysis shows that middle- and lower-income groups reduced luxury spending less than expected. Brands could respond by creating more entry-level luxury options or limited collections for this audience. At the same time, core luxury lines should stay exclusive but might offer added value through special experiences or access. Even among wealthy customers, some became more cautious with money, so flexible payment plans or bundling products with experiences can help maintain interest.

-   Smarter Inventory and Operations:  Sudden changes in demand highlight the need for flexibility in supply and production. To avoid being stuck with unsold products, brands can use small-batch production and just-in-time systems. If demand returns quickly, operations should be ready to scale up fast. This might include switching to items that performed better during the downturn, like home or wellness goods, or building a more flexible supplier network to respond quickly.

-   Strategic Planning and Monitoring:  Since luxury demand reacts more to economic conditions, brands should monitor trends like high-income employment or travel patterns when planning new launches or stock levels. If signals are strong, firms can move forward with new campaigns. If not, they can focus on keeping their audience engaged through storytelling and digital content, without overcommitting on inventory. Tracking customer segments closely will also help redirect resources toward those who recover faster.

-   Marketing Messages on Resilience and Purpose:  Finally, brands should think beyond just selling status. During uncertain times, consumers—even wealthy ones—also look for meaning. Marketing that highlights sustainability, charitable efforts, or brand heritage can keep them connected to the brand. This can be especially effective when shoppers are more careful with their spending but still want to feel good about their purchases.

In summary, the analysis shows that luxury spending among top earners took a much larger hit from COVID-19 than their overall spending or the spending of other groups. For luxury businesses, the takeaway is clear: expect sharper swings in luxury demand, and plan accordingly.  Brands should leverage data to anticipate the rebound among wealthy consumers, while also shoring up channels and products that remain stable.  Concrete steps include retooling marketing to affluent segments (e.g. via digital touchpoints), maintaining nimble supply chains, and tuning product lines to both capture pent‑up demand and broaden appeal. That said, high incomes are the key to the post‑shock recovery and that luxury categories are inherently more sensitive, and luxury firms can better manage risk and seize opportunity as the economy normalizes.

\newpage

# Appendix A: Mapping Table

The CPI data used for deflation was sourced from the `cu.data.txt` file provided by the U.S.
Bureau of Labor Statistics.
This file includes monthly Consumer Price Index values for a wide range of expenditure categories, identified by a `series_id`.
Each row contains the following fields: `series_id`, `year`, `period`, `value`, and optional footnotes.
The `series_id` encodes the CPI item category and geographic scope, among other metadata, but it does not directly include the UCC codes used in the CES microdata.

To enable item-level inflation adjustment for CES transactions, I manually constructed a mapping table that links each UCC code from the CES dataset to a corresponding `series_id` in the CPI data.
This process required careful item-by-item inspection, cross-referencing CES item descriptions with the CPI classification structure to ensure conceptual alignment.
Due to the lack of an official one-to-one correspondence table, all mappings were curated by hand and validated for consistency.

Once the UCC-to-CPI mapping was completed, it was merged into the CES microdata (`merged_data`) by joining on the `UCC` field.
Each expenditure observation thus inherited an appropriate `item_code`, which was then used to retrieve the relevant CPI series for temporal price adjustment.

The complete mapping table is available at the following repository:

[**GitHub: UCC-to-CPI Mapping Table**](https://github.com/John-Song-UW/CES-Luxury-Analysis/blob/main/~%24ce-cpi-concordance.xlsx)

# Appendix B. Weighting Method for Interview-Based Monthly Expenditure Data

This study uses `FINLWT21`, the full-sample weight provided by US BLS, to ensure nationally representative estimates from the CES Interview Survey. Since the raw expenditure records are collected at the household-item-month level and each household is only interviewed once per quarter, appropriate weight adjustments are necessary for monthly-level analyses.

## Variables Used

- `FINLWT21`: The full-sample weight assigned to each household (`NEWID`). This weight reflects the number of households in the U.S. population that the sampled unit represents for a full quarter.  
- `QINTRVMO`: The month of the quarter in which the interview occurred. It takes values:  
  - `1` = first month of the quarter  
  - `2` = second month  
  - `3` = third month  
  - `4` or higher = non-interview month (usually imputed or administrative entry)
- `MO_SCOPE`: The number of months of spending the household is reporting for the given interview. This is derived as follows:

```r
merged_data <- merged_data %>%
  mutate(
    MO_SCOPE = case_when(
      QINTRVMO == 1 ~ 0,
      QINTRVMO == 2 ~ 1,
      QINTRVMO == 3 ~ 2,
      QINTRVMO >= 4 ~ 3,
      TRUE ~ NA_real_
    )
  )
```

## Adjustment Formula

To convert **quarterly** household weights (`FINLWT21`) into **monthly** item-level weights suitable for aggregation, the following transformation is applied:

$$
\text{weight\_adj} = \text{FINLWT21} \times \left( \frac{\text{MO\_SCOPE}}{3} \right) \div 4
$$

- The term $\frac{\text{MO\_SCOPE}}{3}$ adjusts for the proportion of the quarter represented by the reported months.
- Dividing by 4 converts the quarterly weight to a monthly scale, since each household is interviewed once per quarter.

This adjusted weight reflects the monthly representativeness of each observation, accounting for both the interview timing and the CES sampling design. It is used in all weighted means and regressions throughout the study to generate unbiased national-level estimates of per-household monthly spending patterns.

# Appendix C. Impact of Change in UCC Categorization

Starting in Q1 2021, CES underwent a structural change in how certain expenditure categories were recorded between the Interview and Diary surveys. Notably, many clothing-related UCCs, including those for men’s suits, coats, shirts, and women’s outerwear, were reallocated from the Interview Survey to the Diary Survey.

As this study relies solely on the Interview sample (FMLI and MTBI files), any UCCs that were moved exclusively to the Diary Survey after Q1 2021 will no longer appear in the expenditure records. This affects the continuity of luxury spending indicators derived from clothing-related UCCs, particularly in later stages of the analysis.

To mitigate this issue, only UCCs that remained consistently recorded in the Interview Survey throughout the entire observation window (January, 2019 – Februrary, 2021) were included in the final luxury UCC list. This ensures that any changes in spending patterns are not artifacts of CES survey design but instead reflect actual behavioral shifts.

Additionally, CES Interview data follow a rotating panel design in which each household is interviewed once per quarter and asked to recall expenditures made over the previous three months. Due to this structure, the MTBI file captures spending information in three monthly columns per household per quarter. However, for each household in a given quarter, only a subset of these months actually falls within the target calendar quarter. For example, in the Q1 2021 interview wave, most households report expenditures from December 2020, January 2021, and February 2021, thus excluding data for March 2021. This structural delay means that monthly expenditure coverage in the MTBI file ends in February for each Q1 cycle.

\newpage

# Appendix D. Numeric Values of 4.1 Result

```{r, results = 'asis'}
consec_contrasts_gen %>%
  kbl(caption = "Stage-to-Stage Contrasts for General Spending",
      digits = 3, align = "c", format = "latex", booktabs = TRUE) %>%
  kable_styling(latex_options = c("striped", "hold_position", "scale_down"))
```

```{r, results = 'asis'}
consec_contrasts_lux %>%
  kbl(caption = "Stage-to-Stage Contrasts for Luxury Spending",
      digits = 3, align = "c", format = "latex", booktabs = TRUE) %>%
  kable_styling(latex_options = c("striped", "hold_position", "scale_down"))
```

# Appendix E. Why Are the Delta % for Pre-shock to Breakout Different in 5.1 and 5.2

While both methods calculate the percentage change from the pre-shock stage to the breakout stage, the results differ slightly, particularly for general goods. This discrepancy stems from differences in how each method defines and computes the average.

The first method calculates percentage change using directly aggregated means: it takes the weighted average transaction cost in each stage and applies a simple ratio formula. This is a descriptive, non-parametric approach that reflects central tendencies but does not control for within-group variation or leverage all individual-level data points.

In contrast, the second method estimates change using a fixed effects regression model. Here, the baseline (pre-shock) value is captured by the intercept, and the coefficients for each subsequent stage represent estimated differences relative to that baseline. This model-based approach incorporates every observation, adjusts for sampling weights, and accounts for clustering at the household level, providing more precise estimates especially when the sample size is large—as is the case for general goods.

The divergence between the two methods is therefore not an error but a reflection of the trade-off between a descriptive summary statistic and a regression-based estimate that accounts for noise and sampling design. For luxury items, where the sample size is small and variation is high, the two approaches yield more similar results. For general goods, however, the regression model tends to produce more conservative and statistically robust estimates.



